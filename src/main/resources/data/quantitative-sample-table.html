<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<style>
    /* 1. Scrolling Container */
    .table-wrapper {
        width: 100%;
        overflow-x: auto; /* Enables horizontal scroll */
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        border: 1px solid #dee2e6;
        margin-bottom: 20px;
    }

    table {
        border-collapse: collapse;
        width: 100%; /* Expands as needed */
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        font-size: 13px;
        min-width: 1500px; /* Forces scroll on smaller screens */
    }

    /* 2. Sticky Column Setup */
    th.sticky-col, td.sticky-col {
        position: sticky;
        left: 0;
        background-color: #fff;
        z-index: 10;
        border-right: 2px solid #dee2e6;
        width: 140px;
        min-width: 140px;
        padding-left: 15px;
    }
    
    /* Ensure header sticky col matches header background */
    th.sticky-col { 
        background-color: #343a40; 
        color: white;
        z-index: 11; /* Higher than body sticky cols */
    }
    
    /* Footer sticky col */
    tfoot th.sticky-col {
        background-color: #e9ecef;
        color: #333;
        z-index: 11;
    }

    /* 3. General Cell Styling */
    th, td {
        padding: 8px 10px;
        border-bottom: 1px solid #dee2e6;
        border-right: 1px solid #f1f3f5;
        vertical-align: middle;
    }

    th {
        background-color: #343a40;
        color: white;
        text-align: left;
        white-space: nowrap;
    }

    /* Group Headers */
    .header-group { text-align: center; background-color: #495057; }

    /* 4. Compact Progress Bar Visualization */
    .viz-cell {
        width: 110px; /* Fixed width for data columns */
        min-width: 110px;
    }
    
    .bar-row {
        display: flex;
        align-items: center;
        margin-bottom: 2px;
        height: 8px;
    }
    
    .track {
        flex-grow: 1;
        background-color: #e9ecef;
        height: 100%;
        border-radius: 2px;
        overflow: hidden;
        margin-right: 5px;
        position: relative;
    }

    .fill-pre { background-color: #adb5bd; height: 100%; } /* Gray */
    .fill-post { background-color: #28a745; height: 100%; } /* Green */
    
    .val-text {
        font-size: 10px;
        color: #666;
        width: 15px;
        text-align: right;
    }

    /* Delta Indicators */
    .delta {
        font-size: 10px;
        font-weight: bold;
        display: block;
        text-align: right;
        margin-top: 2px;
    }
    .pos { color: green; }
    .neg { color: red; }
    .neu { color: #999; }

    /* 5. Summary Footer Styling */
    tfoot tr {
        background-color: #e9ecef;
        font-weight: bold;
        border-top: 2px solid #333;
    }
    
    .summary-val {
        font-size: 1.1em;
        text-align: center;
    }

</style>
</head>
<body>

<h3>ðŸ“Š Class Analysis: Situation-by-Situation</h3>
<p><em>Horizontal scroll enabled. Pre (Gray) vs Post (Green).</em></p>

<div class="table-wrapper">
    <table>
        <thead>
            <tr>
                <th class="sticky-col" style="background-color: #343a40;"></th> <th colspan="3" class="header-group">Speaking Confidence (Q7) &rarr; Ability (Q6)</th>
                <th colspan="3" class="header-group" style="background-color: #17a2b8;">Understanding (Q9) &rarr; Ease (Q7 Inv)</th>
                </tr>
            <tr>
                <th class="sticky-col">Student</th>
                
                <th>Directions</th>
                <th>Healthcare</th>
                <th>Authorities</th>
                
                <th>Directions</th>
                <th>Healthcare</th>
                <th>Authorities</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="sticky-col">
                    <strong>John D.</strong><br>
                    <span style="font-size:10px; color:#666">ID: 1045</span>
                </td>

                <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:50%"></div></div> <span class="val-text">2</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:75%"></div></div> <span class="val-text">3</span>
                    </div>
                    <span class="delta pos">+1.0</span>
                </td>

                <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:25%"></div></div>
                        <span class="val-text">1</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:50%"></div></div>
                        <span class="val-text">2</span>
                    </div>
                    <span class="delta pos">+1.0</span>
                </td>

                <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:25%"></div></div>
                        <span class="val-text">1</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:25%"></div></div>
                        <span class="val-text">1</span>
                    </div>
                    <span class="delta neu">0.0</span>
                </td>

                <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:75%"></div></div> <span class="val-text">3</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:100%"></div></div> <span class="val-text">4</span>
                    </div>
                    <span class="delta pos">+1.0</span>
                </td>

                <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:50%"></div></div>
                        <span class="val-text">2</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:50%"></div></div>
                        <span class="val-text">2</span>
                    </div>
                    <span class="delta neu">0.0</span>
                </td>
                
                 <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:25%"></div></div>
                        <span class="val-text">1</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:50%"></div></div>
                        <span class="val-text">2</span>
                    </div>
                    <span class="delta pos">+1.0</span>
                </td>
            </tr>

            <tr>
                <td class="sticky-col">
                    <strong>Maria S.</strong><br>
                    <span style="font-size:10px; color:#666">ID: 1046</span>
                </td>

                 <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:75%"></div></div>
                        <span class="val-text">3</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:75%"></div></div>
                        <span class="val-text">3</span>
                    </div>
                    <span class="delta neu">0.0</span>
                </td>

                <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:50%"></div></div>
                        <span class="val-text">2</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:75%"></div></div>
                        <span class="val-text">3</span>
                    </div>
                    <span class="delta pos">+1.0</span>
                </td>

                <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:25%"></div></div>
                        <span class="val-text">1</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:50%"></div></div>
                        <span class="val-text">2</span>
                    </div>
                    <span class="delta pos">+1.0</span>
                </td>

                <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:50%"></div></div>
                        <span class="val-text">2</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:50%"></div></div>
                        <span class="val-text">2</span>
                    </div>
                    <span class="delta neu">0.0</span>
                </td>
                
                <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:50%"></div></div>
                        <span class="val-text">2</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:25%"></div></div>
                        <span class="val-text">1</span>
                    </div>
                    <span class="delta neg">-1.0</span>
                </td>
                
                 <td class="viz-cell">
                    <div class="bar-row">
                        <div class="track"><div class="fill-pre" style="width:25%"></div></div>
                        <span class="val-text">1</span>
                    </div>
                    <div class="bar-row">
                        <div class="track"><div class="fill-post" style="width:25%"></div></div>
                        <span class="val-text">1</span>
                    </div>
                    <span class="delta neu">0.0</span>
                </td>
            </tr>
        </tbody>

        <tfoot>
            <tr>
                <th class="sticky-col">Total Avg Change</th>
                
                <td class="summary-val pos">+0.5</td>
                
                <td class="summary-val pos">+1.0</td>
                
                <td class="summary-val pos">+0.5</td>
                
                 <td class="summary-val pos">+0.5</td>
                
                <td class="summary-val neg">-0.5</td>
                
                 <td class="summary-val pos">+0.5</td>
            </tr>
        </tfoot>
    </table>
</div>

</body>
</html>